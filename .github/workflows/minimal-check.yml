name: Minimal check (for PRs and pushes to main)
on:
  pull_request:
    branches:
      - 'main'
  push:
    branches:
      - 'main'
jobs:
  build_linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v5
      - uses: actions/setup-python@v6
        with:
          python-version: '3.13'
          cache: 'pip'
      - run: sudo apt-get install -y gettext
      - run: source ./build-all.sh
        env:
          PROGRAM_VERSION: ${{ steps.tag_version.outputs.new_tag }}

